document.getElementById("copy_or_more").addEventListener("click",ev=>{handleKey("clip");});document.getElementById("copy_or_more").addEventListener("keydown",ev=>{ev.preventDefault();if(ev.key==="Backspace"){handleKey("clear");}else if(ev.key===" "){handleKey("insert");}else if(ev.key==="Enter"){handleKey("clip");}else if(ev.key==="Tab"){handleKey();}});function handleKey(action="return"){if(action==="clip"){let res=document.getElementById("result");res.select();document.execCommand("copy");}let src=document.getElementById("source");if(action==="clear"){src.value="";src.dispatchEvent(new InputEvent("change",{bubbles:true}));}else if(action==="insert"){src.setRangeText("Â·",src.selectionStart,src.selectionEnd,"end");}src.focus();}